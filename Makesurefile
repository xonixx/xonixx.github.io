# vim: syntax=bash

@goal trans_installed
@doc 'install translate shell'
@depends_on _soft_folder_created
@reached_if [[ -f soft/trans ]]
  cd soft
  wget git.io/trans
  chmod +x ./trans
  ./trans --version
  echo
  echo "Translate shell installed."

@goal soft_installed
@doc 'install required software'
@depends_on trans_installed

@goal _soft_folder_created @private
@reached_if [[ -d "soft" ]]
  mkdir soft

@goal retranslate_pg
@depends_on trans_installed
  text="$(cat parameterized_goals.md)"
  text="$(./soft/trans -b en:ru "$text")" # | ./soft/trans ru:en - -b > parameterized_goals_delme.md
  echo "$text" > parameterized_goals_delme.md